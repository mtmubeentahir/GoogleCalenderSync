c
auth_url
c
session[:access_token]
c
calendar_list['items']
calendar_list['items'].second
calendar_list['items'].first
calendar_list['items'].count
calendar_list['items']
calendar_list.first
calendar_list
n
c
@events
c
@events.second
@events.first
@events
@events.count
@events.first
 @events = JSON.parse(events_response.body)
events_response = HTTParty.get("https://www.googleapis.com/calendar/v3/calendars/#{calendar_id}/events",
        headers: {
          'Authorization' => "Bearer #{session[:access_token]}",
          'Content-Type' => 'application/json'
        }
      )
calendar_list = JSON.parse(calendar_list_response.body)
      # Assuming you want to use the first calendar in the list
      calendar_id = calendar_list['items'].first['id']
alendar_list = JSON.parse(calendar_list_response.body)
      # Assuming you want to use the first calendar in the list
      calendar_id = calendar_list['items'].first['id']
calendar_list_response = HTTParty.get('https://www.googleapis.com/calendar/v3/users/me/calendarList',
      headers: {
        'Authorization' => "Bearer #{session[:access_token]}",
        'Content-Type' => 'application/json'
      }
    )
pp k
k
k = JSON.parse(response.body)
k
k=_
JSON.parse(response.body)
response = HTTParty.get('https://www.googleapis.com/calendar/v3/users/me/calendarList',
      headers: {
        'Authorization' => "Bearer #{session[:access_token]}",
        'Content-Type' => 'application/json'
      }
    )
JSON.parse(response.body)
response.body
@events
c
n
@events
response.bodyn
response.body
n
c
n
session[:access_token]
c
params[:code]
paramparams[:code]
token_response.body
n
c
authorization_code
ENV['GOOGLE_REDIRECT_URI']
ENV['GOOGLE_CLIENT_SECRET']
ENV['GOOGLE_CLIENT_ID']
params[:code]
token_response = HTTParty.post('https://oauth2.googleapis.com/token', {
        code: params[:code],
        client_id: ENV['GOOGLE_CLIENT_ID'],
        client_secret: ENV['GOOGLE_CLIENT_SECRET'],
        redirect_uri: ENV['GOOGLE_REDIRECT_URI'],
        grant_type: 'authorization_code'
      })params[:code]
token_response = HTTParty.post('https://oauth2.googleapis.com/token', {
        code: params[:code],
        client_id: ENV['GOOGLE_CLIENT_ID'],
        client_secret: ENV['GOOGLE_CLIENT_SECRET'],
        redirect_uri: ENV['GOOGLE_REDIRECT_URI'],
        grant_type: 'authorization_code'
      })
ENV['GOOGLE_REDIRECT_URI']
ENV['GOOGLE_CLIENT_SECRET']
c
token_response
n
continue
tokens
n
c
ENV['GOOGLE_REDIRECT_UR']
 ENV['GOOGLE_CLIENT_SECRET']
ENV['GOOGLE_CLIENT_ID']
params[:code]
token_response.body
n
params[:code]
c
tokens
token_response
tokens
n
c
token_response.body
n
c
token_response = HTTParty.post('https://oauth2.googleapis.com/token', {
        code: params[:code],
        client_id: ENV['GOOGLE_CLIENT_ID'],
        client_secret: ENV['GOOGLE_CLIENT_SECRET'],
        redirect_uri: ENV['GOOGLE_REDIRECT_UR'],
        grant_type: 'authorization_code'
      })
token_response.body
n
params[:code]
params
c
session[:access_token]
